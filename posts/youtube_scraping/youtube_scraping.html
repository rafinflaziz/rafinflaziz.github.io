<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rafi Naufal Aziz">
<meta name="dcterms.date" content="2023-10-26">
<meta name="description" content="Scrap top 100 youtubers data from SocialBlade and clean it before processed into analysis part.">

<title>Rafi’s Thoughts Hub - Top 100 Most Subscribed Indonesian Youtubers: Data Scraping</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Rafi’s Thoughts Hub</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts" rel="" target="">
 <span class="menu-text">Notebook</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/rafinflaziz" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/rafinflaziz" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a></li>
  <li><a href="#data-source" id="toc-data-source" class="nav-link" data-scroll-target="#data-source">Data Source</a>
  <ul class="collapse">
  <li><a href="#where-and-how-to-collect-the-data" id="toc-where-and-how-to-collect-the-data" class="nav-link" data-scroll-target="#where-and-how-to-collect-the-data">Where and how to collect the data?</a></li>
  <li><a href="#what-data-are-we-looking-for" id="toc-what-data-are-we-looking-for" class="nav-link" data-scroll-target="#what-data-are-we-looking-for">What data are we looking for?</a></li>
  </ul></li>
  <li><a href="#data-scraping" id="toc-data-scraping" class="nav-link" data-scroll-target="#data-scraping">Data Scraping</a>
  <ul class="collapse">
  <li><a href="#navigate-the-top-100-list" id="toc-navigate-the-top-100-list" class="nav-link" data-scroll-target="#navigate-the-top-100-list">Navigate the top 100 list</a></li>
  <li><a href="#get-each-channels-information-page-url" id="toc-get-each-channels-information-page-url" class="nav-link" data-scroll-target="#get-each-channels-information-page-url">Get each channel’s information page URL</a></li>
  <li><a href="#navigate-information-page-of-each-channel" id="toc-navigate-information-page-of-each-channel" class="nav-link" data-scroll-target="#navigate-information-page-of-each-channel">Navigate information page of each channel</a></li>
  <li><a href="#get-the-data" id="toc-get-the-data" class="nav-link" data-scroll-target="#get-the-data">Get the data</a>
  <ul class="collapse">
  <li><a href="#basic-data" id="toc-basic-data" class="nav-link" data-scroll-target="#basic-data">Basic data</a></li>
  <li><a href="#time-series-data" id="toc-time-series-data" class="nav-link" data-scroll-target="#time-series-data">Time series data</a></li>
  </ul></li>
  <li><a href="#putting-it-all-together" id="toc-putting-it-all-together" class="nav-link" data-scroll-target="#putting-it-all-together">Putting it all together</a></li>
  </ul></li>
  <li><a href="#data-cleaning" id="toc-data-cleaning" class="nav-link" data-scroll-target="#data-cleaning">Data Cleaning</a>
  <ul class="collapse">
  <li><a href="#basic-data-1" id="toc-basic-data-1" class="nav-link" data-scroll-target="#basic-data-1">Basic data</a>
  <ul class="collapse">
  <li><a href="#examine-the-data" id="toc-examine-the-data" class="nav-link" data-scroll-target="#examine-the-data">Examine the data</a></li>
  <li><a href="#convert-column-dtype" id="toc-convert-column-dtype" class="nav-link" data-scroll-target="#convert-column-dtype">Convert column dtype</a></li>
  <li><a href="#add-some-features" id="toc-add-some-features" class="nav-link" data-scroll-target="#add-some-features">Add some features</a></li>
  </ul></li>
  <li><a href="#time-series-data-1" id="toc-time-series-data-1" class="nav-link" data-scroll-target="#time-series-data-1">Time series data</a></li>
  <li><a href="#merge-the-two-dataframes" id="toc-merge-the-two-dataframes" class="nav-link" data-scroll-target="#merge-the-two-dataframes">Merge the two dataframes</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="youtube_scraping.out.ipynb" download="youtube_scraping.out.ipynb"><i class="bi bi-journal-code"></i>Jupyter</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Top 100 Most Subscribed Indonesian Youtubers: Data Scraping</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">project</div>
    <div class="quarto-category">scraping</div>
    <div class="quarto-category">cleaning</div>
  </div>
  </div>

<div>
  <div class="description">
    Scrap top 100 youtubers data from SocialBlade and clean it before processed into analysis part.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Rafi Naufal Aziz </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 26, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="background" class="level1">
<h1>Background</h1>
<p>YouTube has become one of the largest platforms in the world. In Indonesia itself, YouTube ranks second on the list of the most visited sites. With such a large audience, YouTube provides a huge opportunity for anyone looking to pursue a career in content creation.</p>
<p>Certainly, there will be many considerations to be faced before creating a content. Understanding trends and audience preferences is crucial, especially on a highly dynamic platform like YouTube.</p>
<p>Therefore, I will attempt to analyze data from the top 100 YouTubers in Indonesia with the most subscribers. With this analysis, I hope we can gain insights into what kind of contents are trending in Indonesia and identify what creators can do to enhance their channel’s potential.</p>
<p>This project is divided into two parts. The first part involves data collection (scraping) and data cleaning, while the second part involves data visualization and analysis. The analysis part can be viewed <a href="../../posts/youtube_analysis/youtube_analysis.html">here</a>.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>You might get different result when you run all the code in this article. This happens because the data source will be changed (or rather, updated) frequently.</p>
</div>
</div>
</section>
<section id="data-source" class="level1">
<h1>Data Source</h1>
<section id="where-and-how-to-collect-the-data" class="level2">
<h2 class="anchored" data-anchor-id="where-and-how-to-collect-the-data">Where and how to collect the data?</h2>
<p>To obtain the data, I could have used the YouTube API. However, due to resource limitations, I ended up using data scraping technique on <a href="https://socialblade.com/youtube/top/country/id/mostsubscribed">SocialBlade</a> website to collect the data.</p>
<p><img src="sb.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Although all of these data are available publicly and can be accessed by anyone, I don’t recommend to do the scraping by yourself, as it is against their <a href="https://socialblade.com/info/terms">terms of service</a>.</p>
</div>
</div>
</section>
<section id="what-data-are-we-looking-for" class="level2">
<h2 class="anchored" data-anchor-id="what-data-are-we-looking-for">What data are we looking for?</h2>
<p>We can gather many kinds of data from this website. However, we will only focus on a few primary pieces of information:</p>
<ul>
<li>Name: The channel’s name</li>
<li>Upload count: The number of uploaded content</li>
<li>Subscribers: The number of subscribers</li>
<li>Views: Total views from all uploaded videos</li>
<li>Tag: The main category of the channel</li>
<li>Date created: The channel’s creation date</li>
<li>Monthly views gained: Number of views gained each month</li>
<li>Monthly subs gained: Number of subscribers gained each month</li>
</ul>
<p>These information are present in each of the channel’s page from the earlier top 100 list. For example, this one below is from <a href="https://socialblade.com/youtube/channel/UCvh1at6xpV1ytYOAzxmqUsA">Jess No Limit’s</a> page.</p>
<p><img src="jess.png" class="img-fluid"></p>
<p><img src="jess2.png" class="img-fluid"></p>
<p>Before we start, let’s import some packages</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T12:08:20.001763Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T12:08:19.985096Z&quot;}" data-execution_count="161">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> urllib.request <span class="im">import</span> Request, urlopen</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup <span class="im">as</span> bs</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dateutil.parser <span class="im">import</span> parse</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now let’s begin!</p>
</section>
</section>
<section id="data-scraping" class="level1">
<h1>Data Scraping</h1>
<section id="navigate-the-top-100-list" class="level2">
<h2 class="anchored" data-anchor-id="navigate-the-top-100-list">Navigate the top 100 list</h2>
<p>First, we will navigate to the main page containing the top 100 most subscribed Indonesian channels. In Python, we can do this by sending a request to the URL using <code>urllib.request</code> package.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T06:35:29.249461Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T06:35:28.122474Z&quot;}" data-execution_count="106">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">'https://socialblade.com/youtube/top/country/id/mostsubscribed'</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># optional, might be needed in some cases</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>headers <span class="op">=</span> {</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'User-Agent'</span>: <span class="st">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36'</span>}</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>req <span class="op">=</span> Request(url, headers<span class="op">=</span>headers)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> urlopen(req)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s see if our request was successful (status code 200). If it succeed, we will create a <code>soup</code> variable, which contains the entire HTML for the URL.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T06:35:30.455090Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T06:35:29.836994Z&quot;}" data-execution_count="107">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> response.getcode() <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># parse the HTML content of the page</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> bs(response.read(), <span class="st">'html.parser'</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Request success!'</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Failed to retrieve the page. Status code: </span><span class="sc">{</span>response<span class="sc">.</span>getcode()<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Request success!</code></pre>
</div>
</div>
<p>Great, we are in! Now, let’s navigate the information page of each channel on this list. To do that, we need to get the url of each channel’s page.</p>
</section>
<section id="get-each-channels-information-page-url" class="level2">
<h2 class="anchored" data-anchor-id="get-each-channels-information-page-url">Get each channel’s information page URL</h2>
<p>To get the URL of each channel’s page, we need to know where is it located in the HTML. Apparently, the URL is located in as a <code>href</code> attribute of an <code>&lt;a&gt;</code> element inside <code>&lt;div&gt;</code> container with attributes <code>style="float: left; width: 350px; line-height: 25px;"</code>. For example, see the image below. It shows the URL for Jess No Limit’s channel.</p>
<p><img src="url.png" class="img-fluid"></p>
<p>We can retrieve that information easily using <code>BeautifulSoup</code>.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T06:35:40.245049Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T06:35:40.223752Z&quot;}" data-execution_count="108">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get every div containers that have a specific style attribute</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>divs_with_style <span class="op">=</span> soup.find_all(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'div'</span>, style<span class="op">=</span><span class="st">"float: left; width: 350px; line-height: 25px;"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># to get each channel's url ID,</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># extract value of 'href' attribute in every &lt;a&gt; element inside each div</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>channel_urls <span class="op">=</span> [div.find(<span class="st">'a'</span>)[<span class="st">'href'</span>] <span class="cf">for</span> div <span class="kw">in</span> divs_with_style]</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># print some example</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'examples:'</span>, channel_urls[:<span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>examples: ['/youtube/channel/UCvh1at6xpV1ytYOAzxmqUsA', '/youtube/channel/UC4tS4Q_Cno5JVcIUXxQOOpA', '/youtube/channel/UC4hGmH5sABOA70D4fGb8qNQ']</code></pre>
</div>
</div>
</section>
<section id="navigate-information-page-of-each-channel" class="level2">
<h2 class="anchored" data-anchor-id="navigate-information-page-of-each-channel">Navigate information page of each channel</h2>
<p>Having acquired the URL for each channel’s information page, we can access it using a similar procedure to the previous one. For example, here is how you would access the information page for Jess No Limit’s channel.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T06:35:50.203220Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T06:35:49.389045Z&quot;}" data-execution_count="109">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>channel_url <span class="op">=</span> <span class="st">'https://socialblade.com'</span> <span class="op">+</span> <span class="st">'/youtube/channel/UCvh1at6xpV1ytYOAzxmqUsA'</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># optional, might be needed in some cases</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>headers <span class="op">=</span> {</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'User-Agent'</span>: <span class="st">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36'</span>}</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>req <span class="op">=</span> Request(channel_url, headers<span class="op">=</span>headers)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> urlopen(req)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> response.getcode() <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># parse the HTML content of the page</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> bs(response.read(), <span class="st">'html.parser'</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Request success!'</span>)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Failed to retrieve the page. Status code: </span><span class="sc">{</span>response<span class="sc">.</span>getcode()<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Request success!</code></pre>
</div>
</div>
</section>
<section id="get-the-data" class="level2">
<h2 class="anchored" data-anchor-id="get-the-data">Get the data</h2>
<p>I will divide this section into two parts, basic data and time series data. The reason is that their structure is different:</p>
<ul>
<li>Channel’s basic data are one-to-one, meaning that one channel only has one combination of basic data (name, subs, views, etc)</li>
<li>Channel’s time series data are one-to-many, meaning that one channel has multiple monthly information.</li>
</ul>
<section id="basic-data" class="level3">
<h3 class="anchored" data-anchor-id="basic-data">Basic data</h3>
<section id="name" class="level4">
<h4 class="anchored" data-anchor-id="name">Name</h4>
<p>For name information, it is located in a <code>&lt;h1&gt;</code> element with style <code>float: left; font-size: 1.4em; font-weight: bold; color:#333; margin: 0px; padding: 0px; margin-right: 5px;</code>. For example, see the image below. It shows the name of Jess No Limit’s channel.</p>
<p><img src="jessname.png" class="img-fluid"></p>
<p>We can retrieve that information like we did before using <code>BeautifulSoup</code>.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T06:36:13.382523Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T06:36:13.367016Z&quot;}" data-scrolled="true" data-execution_count="111">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get first &lt;h1&gt; element that have a specific style attribute</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> soup.find(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'h1'</span>, style<span class="op">=</span><span class="st">"float: left; font-size: 1.4em; font-weight: bold; color:#333; margin: 0px; padding: 0px; margin-right: 5px;"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># strip to remove additional spaces</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> name.text.strip()</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># print name result</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'the name of the channel is </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>the name of the channel is Jess No Limit.</code></pre>
</div>
</div>
</section>
<section id="uploads-subs-views-tag-and-date" class="level4">
<h4 class="anchored" data-anchor-id="uploads-subs-views-tag-and-date">Uploads, subs, views, tag, and date</h4>
<p>For other basic information, it is located in a <code>&lt;span&gt;</code> element with style <code>font-weight: bold;</code>. In addition to that, we have to make sure that we don’t collect country information, because we already know all channels that we are going to visit are from Indonesia. Again, as an example, see the image below.</p>
<p><img src="jessother.png" class="img-fluid"></p>
<p>Using similar procedure like before, it yields all the basic data that we need.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T06:36:28.814412Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T06:36:28.799271Z&quot;}" data-execution_count="112">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get first &lt;h1&gt; element that have a specific style attribute</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> soup.find(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'h1'</span>, style<span class="op">=</span><span class="st">"float: left; font-size: 1.4em; font-weight: bold; color:#333; margin: 0px; padding: 0px; margin-right: 5px;"</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># strip to remove additional spaces</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> name.text.strip()</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co"># get all &lt;span&gt; elements that have a specific style attribute</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>spans_with_style <span class="op">=</span> soup.find_all(<span class="st">'span'</span>, style<span class="op">=</span><span class="st">"font-weight: bold;"</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>result_basic <span class="op">=</span> [name] <span class="op">+</span> [span.text <span class="cf">for</span> span <span class="kw">in</span> spans_with_style <span class="cf">if</span> span.text <span class="op">!=</span> <span class="st">'ID'</span>]</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co"># print name result</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Basic data about this channel: </span><span class="sc">{</span>result_basic<span class="sc">}</span><span class="ss">.'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Basic data about this channel: ['Jess No Limit', '2,575', '42.8M', '5,347,533,136', 'Entertainment', 'Sep 7th, 2017'].</code></pre>
</div>
</div>
</section>
</section>
<section id="time-series-data" class="level3">
<h3 class="anchored" data-anchor-id="time-series-data">Time series data</h3>
<p>Now for time series data, it’s a bit trickier. Since the monthly chart is interactive, we need to hover to a point to see the number of subs (or views) gained at that point. This means that the moment we enter this page, the number isn’t shown up anywhere. Therefore, we should be looking for the time series data somewhere in the script that’s linked to that chart.</p>
<p>For example, here’s what the time series data looks like Jess No Limit’s page.</p>
<p><img src="jessmonthly.png" class="img-fluid"></p>
<p>As we can see, it contains a list of list, which each inner list consists of two elements: first one for ID and second one for the actual data (in above example, subscribers gained). So how do we find that data using our program?</p>
<p>First we will find all of the <code>&lt;script&gt;</code> element. Let’s see what it looks like.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T06:57:27.026894Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T06:57:27.011210Z&quot;}" data-execution_count="131">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find all &lt;script&gt; element</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>script <span class="op">=</span> soup.find_all(<span class="st">'script'</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># merge all found elements to be single text</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>script <span class="op">=</span> <span class="st">''</span>.join(<span class="bu">str</span>(item) <span class="cf">for</span> item <span class="kw">in</span> script)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'script elements (first 200 characters): </span><span class="sc">{</span>script[:<span class="dv">200</span>]<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<pre><code>'script elements (first 200 characters): &lt;script type="text/javascript"&gt;var _sf_startpt=(new Date()).getTime()&lt;/script&gt;&lt;script type="text/javascript"&gt;var beforeload = (new Date()).getTime()&lt;/script&gt;&lt;script src="//use.fontawesome.com/64cd5ce7'</code></pre>
</div>
</div>
<p>Now, in that text, we want to retrieve all part of the text that is in the form of a 2D list (starts with ‘[[’ and ends with ’]]’). Remember that there will be two chunk of text that matches this criteria: one for monthly gained subs and one for monthly gained views.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T07:04:33.401756Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T07:04:33.388557Z&quot;}" data-execution_count="133">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find all part of text that matches this pattern</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> re.findall(<span class="vs">r'data:\s*(\[\[.*?\]\])'</span>, script)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># we use json.loads here to convert the text into a list</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>subs_data <span class="op">=</span> json.loads(data[<span class="dv">0</span>])</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>views_data <span class="op">=</span> json.loads(data[<span class="dv">1</span>])</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'subs data: </span><span class="sc">{</span>subs_data<span class="sc">}</span><span class="ch">\n</span><span class="ss">'</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'views data: </span><span class="sc">{</span>views_data<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>subs data: [[1698724800000,1400000],[1696046400000,1500000],[1693454400000,2300000],[1690776000000,4700000],[1688097600000,4500000],[1685505600000,800000],[1682827200000,100000],[1680235200000,100000],[1677560400000,100000],[1675141200000,300000],[1672462800000,700000],[1669784400000,100000],[1667188800000,0],[1664510400000,100000],[1661918400000,100000],[1659240000000,0],[1656561600000,0],[1653969600000,300000],[1651291200000,100000],[1648699200000,100000],[1646024400000,100000],[1643605200000,100000],[1640926800000,200000],[1638248400000,300000],[1635652800000,200000],[1632974400000,100000],[1630382400000,200000],[1627704000000,300000],[1625025600000,300000],[1622433600000,400000],[1619755200000,500000],[1617163200000,400000],[1614488400000,700000],[1612069200000,500000],[1609390800000,400000]]

views data: [[1698724800000,-19801666],[1696046400000,411397220],[1693454400000,435506366],[1690776000000,551439344],[1688097600000,386627362],[1685505600000,65763364],[1682827200000,23496055],[1680235200000,24277175],[1677560400000,38229401],[1675141200000,8254410],[1672462800000,66544745],[1669784400000,18234562],[1667188800000,15043919],[1664510400000,32917405],[1661918400000,10335789],[1659240000000,12288453],[1656561600000,25526169],[1653969600000,76262949],[1651291200000,32441094],[1648699200000,32631614],[1646024400000,40522486],[1643605200000,31444275],[1640926800000,52438812],[1638248400000,63853960],[1635652800000,55090234],[1632974400000,44384186],[1630382400000,62924763],[1627704000000,83710454],[1625025600000,59117171],[1622433600000,97490812],[1619755200000,99810016],[1617163200000,23185815],[1614488400000,75239628],[1612069200000,76170914],[1609390800000,76419152]]</code></pre>
</div>
</div>
<p>Next, we will filter the relevant numbers and put them together into a pair of [subs, views] for each months.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T07:06:45.876979Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T07:06:45.858874Z&quot;}" data-execution_count="134">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find all part of text that matches this pattern</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> re.findall(<span class="vs">r'data:\s*(\[\[.*?\]\])'</span>, script)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># we use json.loads here to convert the text into a list</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>subs_data <span class="op">=</span> json.loads(data[<span class="dv">0</span>])</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>views_data <span class="op">=</span> json.loads(data[<span class="dv">1</span>])</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>result_time_series <span class="op">=</span> []</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># filter it by grabbing the second value,</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># and put them together in `result` variable</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> subs, views <span class="kw">in</span> <span class="bu">zip</span>(subs_data, views_data):</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    result_time_series.append([subs[<span class="dv">1</span>], views[<span class="dv">1</span>]])</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'result: </span><span class="sc">{</span>result_time_series<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>result: [[1400000, -19801666], [1500000, 411397220], [2300000, 435506366], [4700000, 551439344], [4500000, 386627362], [800000, 65763364], [100000, 23496055], [100000, 24277175], [100000, 38229401], [300000, 8254410], [700000, 66544745], [100000, 18234562], [0, 15043919], [100000, 32917405], [100000, 10335789], [0, 12288453], [0, 25526169], [300000, 76262949], [100000, 32441094], [100000, 32631614], [100000, 40522486], [100000, 31444275], [200000, 52438812], [300000, 63853960], [200000, 55090234], [100000, 44384186], [200000, 62924763], [300000, 83710454], [300000, 59117171], [400000, 97490812], [500000, 99810016], [400000, 23185815], [700000, 75239628], [500000, 76170914], [400000, 76419152]]</code></pre>
</div>
</div>
<p>So, Jess No Limit gained 1400000 subs and lost 19801666 views in last month (October 2023).</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>A channel can lose views count due to some of their videos were deleted by youtube or by themself.</p>
</div>
</div>
</section>
</section>
<section id="putting-it-all-together" class="level2">
<h2 class="anchored" data-anchor-id="putting-it-all-together">Putting it all together</h2>
<p>Let’s put it all together and make some functions!</p>
<ul>
<li><code>get_channel_data</code> returns informations from each channels</li>
<li><code>get_all_data</code>basically calls <code>get_channel_data</code> on every channels and return all of the informations collected from each of them.</li>
</ul>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T07:34:14.730657Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T07:34:14.712042Z&quot;}" data-execution_count="145">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_channel_data(channel_url, headers<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    channel_url <span class="op">=</span> <span class="st">'https://socialblade.com'</span> <span class="op">+</span> channel_url</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># send a request to the channel URL</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    req <span class="op">=</span> Request(channel_url, headers<span class="op">=</span>headers)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> urlopen(req)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># check if the request was successful (status code 200)</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> response.getcode() <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>        soup <span class="op">=</span> bs(response.read(), <span class="st">'html.parser'</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># basic</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>        name <span class="op">=</span> soup.find(</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">'h1'</span>, style<span class="op">=</span><span class="st">"float: left; font-size: 1.4em; font-weight: bold; color:#333; margin: 0px; padding: 0px; margin-right: 5px;"</span>)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>        name <span class="op">=</span> name.text.strip()</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>        spans_with_style <span class="op">=</span> soup.find_all(<span class="st">'span'</span>, style<span class="op">=</span><span class="st">"font-weight: bold;"</span>)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>        result_basic <span class="op">=</span> [name] <span class="op">+</span> <span class="op">\</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>                       [span.text <span class="cf">for</span> span <span class="kw">in</span> spans_with_style <span class="cf">if</span> span.text <span class="op">!=</span> <span class="st">'ID'</span>]</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>        <span class="co"># time series</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>        script <span class="op">=</span> soup.find_all(<span class="st">'script'</span>)</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>        script <span class="op">=</span> <span class="st">''</span>.join(<span class="bu">str</span>(item) <span class="cf">for</span> item <span class="kw">in</span> script)</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>        data <span class="op">=</span> re.findall(<span class="vs">r'data:\s*(\[\[.*?\]\])'</span>, script)</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>        subs_data <span class="op">=</span> json.loads(data[<span class="dv">0</span>])</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>        views_data <span class="op">=</span> json.loads(data[<span class="dv">1</span>])</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>        result_time_series <span class="op">=</span> []</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> subs, views <span class="kw">in</span> <span class="bu">zip</span>(subs_data, views_data):</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>            result_time_series.append([subs[<span class="dv">1</span>], views[<span class="dv">1</span>]])</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> result_basic, result_time_series</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span>(<span class="ss">f"Failed to retrieve the page. Status code: </span><span class="sc">{</span>response<span class="sc">.</span>getcode()<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_all_data(url, headers<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>    req <span class="op">=</span> Request(url, headers<span class="op">=</span>headers)</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> urlopen(req)</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> response.getcode() <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>        soup <span class="op">=</span> bs(response.read(), <span class="st">'html.parser'</span>)</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>        divs_with_style <span class="op">=</span> soup.find_all(</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>            <span class="st">'div'</span>, style<span class="op">=</span><span class="st">"float: left; width: 350px; line-height: 25px;"</span>)</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>        channel_urls <span class="op">=</span> [div.find(<span class="st">'a'</span>)[<span class="st">'href'</span>] <span class="cf">for</span> div <span class="kw">in</span> divs_with_style]</span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>        <span class="co"># results</span></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>        result_basic <span class="op">=</span> []</span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>        result_time_series <span class="op">=</span> []</span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> channel_url <span class="kw">in</span> channel_urls:</span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a>            <span class="co"># get result of each channels and append it to the results</span></span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a>            channel_result_basic, channel_result_time_series <span class="op">=</span> get_channel_data(</span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a>                channel_url, headers<span class="op">=</span>headers)</span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a>            result_basic.append(channel_result_basic)</span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a>            result_time_series.append(channel_result_time_series)</span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a>            <span class="co"># (optional) add a sleep to prevent requests sent too fast</span></span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a>            time.sleep(<span class="fl">0.1</span>)</span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> result_basic, result_time_series</span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span>(<span class="ss">f"Failed to retrieve the page. Status code: </span><span class="sc">{</span>response<span class="sc">.</span>getcode()<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>You can execute the code below to call the function and store the data in <code>data_basic</code> and <code>data_time_series</code>.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T07:35:37.995056Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T07:34:16.381416Z&quot;}" data-execution_count="146">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">'https://socialblade.com/youtube/top/country/id/mostsubscribed'</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>headers <span class="op">=</span> {</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'User-Agent'</span>: <span class="st">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36'</span>}</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>data_basic, data_time_series <span class="op">=</span> get_all_data(url, headers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="data-cleaning" class="level1">
<h1>Data Cleaning</h1>
<section id="basic-data-1" class="level2">
<h2 class="anchored" data-anchor-id="basic-data-1">Basic data</h2>
<section id="examine-the-data" class="level3">
<h3 class="anchored" data-anchor-id="examine-the-data">Examine the data</h3>
<p>It will be convenient to clean the data before we proceed to analyze it. Let’s examine what can we do to make our data cleaner. First, let’s create a dataframe and ask: What does the data looks like? Do each column have a proper data type?</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T07:50:45.648811Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T07:50:45.613419Z&quot;}" data-execution_count="149">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df_1 <span class="op">=</span> pd.DataFrame(data_basic,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>             columns<span class="op">=</span>[<span class="st">'name'</span>, <span class="st">'upload_count'</span>, <span class="st">'subscribers (million)'</span>, <span class="st">'views'</span>, <span class="st">'tag'</span>, <span class="st">'date_created'</span>])</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>df_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="149">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">upload_count</th>
<th data-quarto-table-cell-role="th">subscribers (million)</th>
<th data-quarto-table-cell-role="th">views</th>
<th data-quarto-table-cell-role="th">tag</th>
<th data-quarto-table-cell-role="th">date_created</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Jess No Limit</td>
<td>2,575</td>
<td>42.8M</td>
<td>5,347,533,136</td>
<td>Entertainment</td>
<td>Sep 7th, 2017</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Ricis Official</td>
<td>3,426</td>
<td>40.4M</td>
<td>6,811,702,060</td>
<td>Entertainment</td>
<td>Jan 15th, 2016</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Frost Diamond</td>
<td>3,048</td>
<td>34M</td>
<td>8,038,993,217</td>
<td>Games</td>
<td>Jan 22nd, 2014</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>AH</td>
<td>2,940</td>
<td>30.8M</td>
<td>4,638,933,282</td>
<td>Entertainment</td>
<td>Jan 26th, 2014</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Indosiar</td>
<td>24,583</td>
<td>27.6M</td>
<td>5,645,575,794</td>
<td>Entertainment</td>
<td>Sep 23rd, 2013</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">95</td>
<td>TRI SUAKA CHANNEL</td>
<td>1,486</td>
<td>8.13M</td>
<td>1,005,418,863</td>
<td>Entertainment</td>
<td>Oct 21st, 2015</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">96</td>
<td>Oura Gaming</td>
<td>3,721</td>
<td>8.12M</td>
<td>2,460,732,171</td>
<td>Games</td>
<td>Aug 28th, 2017</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">97</td>
<td>Erpan1140</td>
<td>1,597</td>
<td>8.11M</td>
<td>1,652,168,434</td>
<td>Games</td>
<td>Jan 13th, 2014</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">98</td>
<td>Kananda Widyantara</td>
<td>851</td>
<td>8.06M</td>
<td>637,071,659</td>
<td>Games</td>
<td>Mar 5th, 2018</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">99</td>
<td>Zhi En</td>
<td>1,883</td>
<td>8.06M</td>
<td>4,795,018,196</td>
<td>Entertainment</td>
<td>May 31st, 2021</td>
</tr>
</tbody>
</table>

<p>100 rows × 6 columns</p>
</div>
</div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T10:44:13.739151Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T10:44:13.707017Z&quot;}" data-execution_count="150">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df_1.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 100 entries, 0 to 99
Data columns (total 6 columns):
 #   Column                 Non-Null Count  Dtype 
---  ------                 --------------  ----- 
 0   name                   100 non-null    object
 1   upload_count           100 non-null    object
 2   subscribers (million)  100 non-null    object
 3   views                  100 non-null    object
 4   tag                    100 non-null    object
 5   date_created           100 non-null    object
dtypes: object(6)
memory usage: 4.8+ KB</code></pre>
</div>
</div>
<p>There are several problems that we can fix here:</p>
<ol type="1">
<li><code>upload_count</code>, <code>subscribers (million)</code>, and <code>views</code> should be integer, not object</li>
<li><code>date_created</code> should be datetime, not object</li>
</ol>
</section>
<section id="convert-column-dtype" class="level3">
<h3 class="anchored" data-anchor-id="convert-column-dtype">Convert column dtype</h3>
<p>Before converting <code>upload_count</code> and <code>views</code> column into an integer column, we should remove the comma separator in each of the entry. We can do that by replacing (instead of removing) these commas with an empty string using <a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.str.replace.html"><code>str.replace()</code></a>.</p>
<p>For <code>subscribers (million)</code>, we replace the ‘M’ letter with an empty string.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T11:53:31.877450Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T11:53:31.853289Z&quot;}" data-execution_count="152">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df_1[<span class="st">'upload_count'</span>] <span class="op">=</span> df_1[<span class="st">'upload_count'</span>].<span class="bu">str</span>.replace(<span class="st">','</span>, <span class="st">''</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>df_1[<span class="st">'views'</span>] <span class="op">=</span> df_1[<span class="st">'views'</span>].<span class="bu">str</span>.replace(<span class="st">','</span>, <span class="st">''</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>df_1[<span class="st">'subscribers (million)'</span>] <span class="op">=</span> df_1[<span class="st">'subscribers (million)'</span>].<span class="bu">str</span>.replace(<span class="st">'M'</span>, <span class="st">''</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Then, we can convert them easily using <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.astype.html"><code>astype()</code></a></p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T11:53:40.739704Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T11:53:40.715612Z&quot;}" data-execution_count="154">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df_1 <span class="op">=</span> df_1.astype({</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'upload_count'</span>: <span class="st">'int'</span>,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'subscribers (million)'</span>: <span class="st">'float'</span>,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'views'</span>: <span class="st">'int64'</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>For the <code>date_created</code> column, we will also use <code>astype</code> to convert it into a datetime object. However, pandas won’t immediately recognize the format (like “Sep 7th, 2017”) as a date.</p>
<p>This is where <code>parse</code>, one of the functions that we imported at the beginning, comes in handy. That function will reformat our date value into a format that <code>astype</code> would recognize. For example, it would transform “Sep 7th, 2017” into “2017-09-07”.</p>
<p>We can utilize the method <code>apply()</code> To implement <code>parse</code> for each value in a dataframe column.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T12:14:17.502441Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T12:14:17.477173Z&quot;}" data-execution_count="163">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df_1[<span class="st">'date_created'</span>] <span class="op">=</span> df_1[<span class="st">'date_created'</span>].<span class="bu">apply</span>(parse).astype(<span class="st">'datetime64[ns]'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s check how our dtypes looks like now.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T12:15:22.095873Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T12:15:22.063950Z&quot;}" data-execution_count="165">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df_1.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 100 entries, 0 to 99
Data columns (total 6 columns):
 #   Column                 Non-Null Count  Dtype         
---  ------                 --------------  -----         
 0   name                   100 non-null    object        
 1   upload_count           100 non-null    int32         
 2   subscribers (million)  100 non-null    float64       
 3   views                  100 non-null    int64         
 4   tag                    100 non-null    object        
 5   date_created           100 non-null    datetime64[ns]
dtypes: datetime64[ns](1), float64(1), int32(1), int64(1), object(2)
memory usage: 4.4+ KB</code></pre>
</div>
</div>
</section>
<section id="add-some-features" class="level3">
<h3 class="anchored" data-anchor-id="add-some-features">Add some features</h3>
<p>Although we have enough features to begin with, it still can be improved. I can think of two new features to be added.</p>
<ol type="1">
<li><code>views/upload_count</code>: with this new feature, it can tells us the efficiency of a channel in terms of viewers per video. It makes comparing the performance of two channels easier.</li>
<li><code>age</code>: to intuitively quantify <code>date_created</code> column into an integer value.</li>
</ol>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T13:16:51.701324Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T13:16:51.636725Z&quot;}" data-execution_count="167">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>df_1[<span class="st">'views/video'</span>] <span class="op">=</span> df_1[<span class="st">'views'</span>]<span class="op">/</span>(df_1[<span class="st">'upload_count'</span>])</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>now <span class="op">=</span> pd.Timestamp(<span class="st">'now'</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>df_1[<span class="st">'age'</span>] <span class="op">=</span> <span class="bu">round</span>((now <span class="op">-</span> df_1[<span class="st">'date_created'</span>]).dt.days <span class="op">/</span> <span class="dv">365</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T13:16:57.870795Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T13:16:57.838642Z&quot;}" data-execution_count="168">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="168">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">upload_count</th>
<th data-quarto-table-cell-role="th">subscribers (million)</th>
<th data-quarto-table-cell-role="th">views</th>
<th data-quarto-table-cell-role="th">tag</th>
<th data-quarto-table-cell-role="th">date_created</th>
<th data-quarto-table-cell-role="th">views/video</th>
<th data-quarto-table-cell-role="th">age</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Jess No Limit</td>
<td>2575</td>
<td>42.80</td>
<td>5347533136</td>
<td>Entertainment</td>
<td>2017-09-07</td>
<td>2.076712e+06</td>
<td>6.2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Ricis Official</td>
<td>3426</td>
<td>40.40</td>
<td>6811702060</td>
<td>Entertainment</td>
<td>2016-01-15</td>
<td>1.988238e+06</td>
<td>7.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Frost Diamond</td>
<td>3048</td>
<td>34.00</td>
<td>8038993217</td>
<td>Games</td>
<td>2014-01-22</td>
<td>2.637465e+06</td>
<td>9.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>AH</td>
<td>2940</td>
<td>30.80</td>
<td>4638933282</td>
<td>Entertainment</td>
<td>2014-01-26</td>
<td>1.577868e+06</td>
<td>9.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Indosiar</td>
<td>24583</td>
<td>27.60</td>
<td>5645575794</td>
<td>Entertainment</td>
<td>2013-09-23</td>
<td>2.296537e+05</td>
<td>10.2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">95</td>
<td>TRI SUAKA CHANNEL</td>
<td>1486</td>
<td>8.13</td>
<td>1005418863</td>
<td>Entertainment</td>
<td>2015-10-21</td>
<td>6.765941e+05</td>
<td>8.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">96</td>
<td>Oura Gaming</td>
<td>3721</td>
<td>8.12</td>
<td>2460732171</td>
<td>Games</td>
<td>2017-08-28</td>
<td>6.613094e+05</td>
<td>6.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">97</td>
<td>Erpan1140</td>
<td>1597</td>
<td>8.11</td>
<td>1652168434</td>
<td>Games</td>
<td>2014-01-13</td>
<td>1.034545e+06</td>
<td>9.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">98</td>
<td>Kananda Widyantara</td>
<td>851</td>
<td>8.06</td>
<td>637071659</td>
<td>Games</td>
<td>2018-03-05</td>
<td>7.486153e+05</td>
<td>5.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">99</td>
<td>Zhi En</td>
<td>1883</td>
<td>8.06</td>
<td>4795018196</td>
<td>Entertainment</td>
<td>2021-05-31</td>
<td>2.546478e+06</td>
<td>2.5</td>
</tr>
</tbody>
</table>

<p>100 rows × 8 columns</p>
</div>
</div>
</div>
</section>
</section>
<section id="time-series-data-1" class="level2">
<h2 class="anchored" data-anchor-id="time-series-data-1">Time series data</h2>
<p>For time series data, each channel must have exacly 35 months (3 years) of record, meaning that there will be 100 x 35 rows in the dataframe.</p>
<p>However, some channels might be created within the last three years and having less than 35 months of record. In this case, we will append zero values to the record for each months where the channels haven’t been created.</p>
<p>Some channels might also have more than 35 months for some reason (maybe it already contains the record for this month), so we will delete the last record in this case.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T13:36:38.785279Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T13:36:38.762108Z&quot;}" data-execution_count="171">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># make 35 rows of each names</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> df_1[<span class="st">'name'</span>]</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>new_names <span class="op">=</span> []</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> name <span class="kw">in</span> names:</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    new_names.extend([name]<span class="op">*</span><span class="dv">35</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>subs_gained <span class="op">=</span> []</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>views_gained <span class="op">=</span> []</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> element <span class="kw">in</span> data_time_series:</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(element)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if it is less than 35 records, append a [0, 0] values to the record</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">&lt;</span> <span class="dv">35</span>:</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>        extender <span class="op">=</span> [[<span class="dv">0</span>, <span class="dv">0</span>] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">35</span><span class="op">-</span>n)]</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>        element.extend(extender)</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if it is more than 35 records, remove the last record</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> n <span class="op">&gt;</span> <span class="dv">35</span>:</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>        element.pop()</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># separate subs and views information from the record    </span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> subs, views <span class="kw">in</span> element:</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>        subs_gained.append(subs)</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>        views_gained.append(views)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s see how the dataframe looks like</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T13:36:43.785683Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T13:36:43.753582Z&quot;}" data-execution_count="173">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df_2 <span class="op">=</span> pd.DataFrame({</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'name'</span>: new_names,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'views_gained'</span>: views_gained,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'subs_gained'</span>: subs_gained,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>df_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="173">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">views_gained</th>
<th data-quarto-table-cell-role="th">subs_gained</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Jess No Limit</td>
<td>-19801666</td>
<td>1400000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Jess No Limit</td>
<td>411397220</td>
<td>1500000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Jess No Limit</td>
<td>435506366</td>
<td>2300000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Jess No Limit</td>
<td>551439344</td>
<td>4700000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Jess No Limit</td>
<td>386627362</td>
<td>4500000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3495</td>
<td>Zhi En</td>
<td>99810016</td>
<td>500000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3496</td>
<td>Zhi En</td>
<td>23185815</td>
<td>400000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3497</td>
<td>Zhi En</td>
<td>75239628</td>
<td>700000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3498</td>
<td>Zhi En</td>
<td>76170914</td>
<td>500000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3499</td>
<td>Zhi En</td>
<td>76419152</td>
<td>400000</td>
</tr>
</tbody>
</table>

<p>3500 rows × 3 columns</p>
</div>
</div>
</div>
<p>I think we forgot something: the date! There should be a date column that indicates when the views and subs were gained. Because I do this analysis in November, we will create a 35 months range from December 2020 to October 2023 for each channel.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T13:51:24.961035Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T13:51:24.928487Z&quot;}" data-execution_count="177">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a monthly date range from dec 2020 to oct 2020</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> pd.Series(pd.date_range(<span class="st">'2020-12'</span>,<span class="st">'2023-10'</span>, </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>              freq<span class="op">=</span><span class="st">'MS'</span>))[::<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># we multiply it by 100 (the number of channels)</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> pd.concat([dates]<span class="op">*</span><span class="dv">100</span>, ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>df_2[<span class="st">'date'</span>] <span class="op">=</span> dates</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>df_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="177">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">views_gained</th>
<th data-quarto-table-cell-role="th">subs_gained</th>
<th data-quarto-table-cell-role="th">date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Jess No Limit</td>
<td>-19801666</td>
<td>1400000</td>
<td>2023-10-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Jess No Limit</td>
<td>411397220</td>
<td>1500000</td>
<td>2023-09-01</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Jess No Limit</td>
<td>435506366</td>
<td>2300000</td>
<td>2023-08-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Jess No Limit</td>
<td>551439344</td>
<td>4700000</td>
<td>2023-07-01</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Jess No Limit</td>
<td>386627362</td>
<td>4500000</td>
<td>2023-06-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3495</td>
<td>Zhi En</td>
<td>99810016</td>
<td>500000</td>
<td>2021-04-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3496</td>
<td>Zhi En</td>
<td>23185815</td>
<td>400000</td>
<td>2021-03-01</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3497</td>
<td>Zhi En</td>
<td>75239628</td>
<td>700000</td>
<td>2021-02-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3498</td>
<td>Zhi En</td>
<td>76170914</td>
<td>500000</td>
<td>2021-01-01</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3499</td>
<td>Zhi En</td>
<td>76419152</td>
<td>400000</td>
<td>2020-12-01</td>
</tr>
</tbody>
</table>

<p>3500 rows × 4 columns</p>
</div>
</div>
</div>
</section>
<section id="merge-the-two-dataframes" class="level2">
<h2 class="anchored" data-anchor-id="merge-the-two-dataframes">Merge the two dataframes</h2>
<p>Last but not least, merge the two dataframes together to get our final, clean dataframe. This dataframe will be used for visualization and analysis in the <a href="posts/youtube_analysis/youtube_analysis.html">next part</a>.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2023-11-28T13:54:08.927069Z&quot;,&quot;start_time&quot;:&quot;2023-11-28T13:54:08.888573Z&quot;}" data-execution_count="179">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.merge(df_1, df_2, left_on<span class="op">=</span><span class="st">'name'</span>, right_on<span class="op">=</span><span class="st">'name'</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="179">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">upload_count</th>
<th data-quarto-table-cell-role="th">subscribers (million)</th>
<th data-quarto-table-cell-role="th">views</th>
<th data-quarto-table-cell-role="th">tag</th>
<th data-quarto-table-cell-role="th">date_created</th>
<th data-quarto-table-cell-role="th">views/video</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">views_gained</th>
<th data-quarto-table-cell-role="th">subs_gained</th>
<th data-quarto-table-cell-role="th">date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Jess No Limit</td>
<td>2575</td>
<td>42.80</td>
<td>5347533136</td>
<td>Entertainment</td>
<td>2017-09-07</td>
<td>2.076712e+06</td>
<td>6.2</td>
<td>-19801666</td>
<td>1400000</td>
<td>2023-10-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Jess No Limit</td>
<td>2575</td>
<td>42.80</td>
<td>5347533136</td>
<td>Entertainment</td>
<td>2017-09-07</td>
<td>2.076712e+06</td>
<td>6.2</td>
<td>411397220</td>
<td>1500000</td>
<td>2023-09-01</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Jess No Limit</td>
<td>2575</td>
<td>42.80</td>
<td>5347533136</td>
<td>Entertainment</td>
<td>2017-09-07</td>
<td>2.076712e+06</td>
<td>6.2</td>
<td>435506366</td>
<td>2300000</td>
<td>2023-08-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Jess No Limit</td>
<td>2575</td>
<td>42.80</td>
<td>5347533136</td>
<td>Entertainment</td>
<td>2017-09-07</td>
<td>2.076712e+06</td>
<td>6.2</td>
<td>551439344</td>
<td>4700000</td>
<td>2023-07-01</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Jess No Limit</td>
<td>2575</td>
<td>42.80</td>
<td>5347533136</td>
<td>Entertainment</td>
<td>2017-09-07</td>
<td>2.076712e+06</td>
<td>6.2</td>
<td>386627362</td>
<td>4500000</td>
<td>2023-06-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3495</td>
<td>Zhi En</td>
<td>1883</td>
<td>8.06</td>
<td>4795018196</td>
<td>Entertainment</td>
<td>2021-05-31</td>
<td>2.546478e+06</td>
<td>2.5</td>
<td>99810016</td>
<td>500000</td>
<td>2021-04-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3496</td>
<td>Zhi En</td>
<td>1883</td>
<td>8.06</td>
<td>4795018196</td>
<td>Entertainment</td>
<td>2021-05-31</td>
<td>2.546478e+06</td>
<td>2.5</td>
<td>23185815</td>
<td>400000</td>
<td>2021-03-01</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3497</td>
<td>Zhi En</td>
<td>1883</td>
<td>8.06</td>
<td>4795018196</td>
<td>Entertainment</td>
<td>2021-05-31</td>
<td>2.546478e+06</td>
<td>2.5</td>
<td>75239628</td>
<td>700000</td>
<td>2021-02-01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3498</td>
<td>Zhi En</td>
<td>1883</td>
<td>8.06</td>
<td>4795018196</td>
<td>Entertainment</td>
<td>2021-05-31</td>
<td>2.546478e+06</td>
<td>2.5</td>
<td>76170914</td>
<td>500000</td>
<td>2021-01-01</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3499</td>
<td>Zhi En</td>
<td>1883</td>
<td>8.06</td>
<td>4795018196</td>
<td>Entertainment</td>
<td>2021-05-31</td>
<td>2.546478e+06</td>
<td>2.5</td>
<td>76419152</td>
<td>400000</td>
<td>2020-12-01</td>
</tr>
</tbody>
</table>

<p>3500 rows × 11 columns</p>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>